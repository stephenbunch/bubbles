/*! Bubbles v0.1.0 */
!function(a,b){var c=a.bubbles={},d=c.forEach=function(a,b){for(var c in a)b(a[c],c)};!function(){function a(c,d,e){return"ctor"===d||c.members[d]===b||"private"===c.members[d].access||e&&c.members[d].virtual?null!==c.parent?a(c.parent,d,!0):!1:!0}function e(a,c,d){var h=f();return c.$type=a,h.self._pub=c,h.self._new=function(){a.initializing=!0;var b=e(a,new a,arguments);return a.initializing=!1,b},g(a,h),i(a,h,c),h.self.ctor!==b&&h.self.ctor.apply(h.self,d),h.self}function f(){return{self:{},parent:null}}function g(a,c){if(null!==a.parent){if(a.parent.members.ctor!==b&&a.parent.members.ctor.params.length>0&&(a.members.ctor===b||!a.members.ctor.callsuper))throw new Error("Parent constructor contains parameters and must be called explicitly.");c.parent=f(),c.parent.self._pub=c.self._pub,g(a.parent,c.parent)}d(a.members,function(b,d){h(a,c,d,b)}),null!==a.parent&&d(a.parent.members,function(d,e){"private"!==d.access&&a.members[e]===b&&(c.self[e]=c.parent.self[e])})}function h(a,c,d,e){if("ctor"===d)c.self.ctor=function(){null!==a.parent&&a.parent.members.ctor!==b&&(a.parent.members.ctor.params.length>0?c.self._super=c.parent.self.ctor:c.parent.self.ctor()),e.method.apply(c.self,arguments),delete c.self._super};else if(null!==c.parent&&c.parent.self[d]!==b&&e.callsuper){var f=c.parent.self[d];c.self[d]=function(){c.self._super=f;var a=e.method.apply(c.self,arguments);return delete c.self._super,a}}else c.self[d]=function(){return e.method.apply(c.self,arguments)}}function i(a,b,c){null!==a.parent&&i(a.parent,b.parent,c),d(a.members,function(a,d){"public"===a.access&&(c[d]=b.self[d])})}c.type=function(b){var c=function(){if(!(this instanceof c)){c.initializing=!0;var a=new c;return e(c,a,arguments),c.initializing=!1,a}c.initializing||e(c,this,arguments)};return c.initializing=!1,c.members={},c.parent=null,c.name=b,c.extend=function(a){if(Object.keys(c.members).length>0)throw new Error("Cannot change the base type after members have been defined.");return c.parent=a,c},c.def=function(b){return d(b,function(b,e){var f="public",g=!1;if(null!==e.match(/^_/)?(f="private",e=e.substr(1)):null!==e.match(/^\$/)&&(g=!0,e=e.substr(1)),a(c,e))throw new Error('Member "'+e+'" is already defined.');var h=j.test(b),i=[],k=b.toString().match(/^function\s*\(([^())]+)\)/);null!==k&&d(k[1].split(","),function(a){i.push(a.trim())}),c.members[e]={access:f,method:b,callsuper:h,virtual:g,params:i}}),c},c};var j=/xyz/.test(function(){xyz=0})?/\b_super\b/:/.*/}()}(window);