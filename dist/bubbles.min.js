/*! Bubbles v0.1.0 */
!function(a,b){var c=a.bubbles={},d=c.forEach=function(a,b){for(var c in a)b(a[c],c)};!function(){function a(c,d,e){return"ctor"===d||c.members[d]===b||"private"===c.members[d].access||e&&c.members[d].virtual?null!==c.parent?a(c.parent,d,!0):!1:!0}function e(a,c,d){var e=f(a);return c.$type=a,c.$scope=function(){return k?e.self:void 0},e.self._pub=c,g(a,e),i(a,e,c),e.self.ctor!==b&&e.self.ctor.apply(e.self,d),e.self}function f(a){var b=function(){};return b.prototype=a.prototype,b.prototype._new=function(){a.initializing=!0;var b=e(a,new a,arguments);return a.initializing=!1,b},b.prototype._pry=function(b){if(b instanceof a&&b.$type===a){k=!0;var c=b.$scope();return k=!1,c}throw new Error("Object is not an instance of type.")},{self:new b,parent:null}}function g(a,c){if(null!==a.parent){if(a.parent.members.ctor!==b&&a.parent.members.ctor.params.length>0&&(a.members.ctor===b||!a.members.ctor.callsuper))throw new Error("Parent constructor contains parameters and must be called explicitly.");c.parent=f(a.parent),c.parent.self._pub=c.self._pub,g(a.parent,c.parent)}d(a.members,function(b,d){h(a,c,d,b)}),null!==a.parent&&d(a.parent.members,function(d,e){"private"!==d.access&&a.members[e]===b&&(c.self[e]=c.parent.self[e])})}function h(a,c,d,e){if("ctor"===d)c.self.ctor=function(){var d=c.self._super;null!==a.parent&&a.parent.members.ctor!==b&&(a.parent.members.ctor.params.length>0?c.self._super=c.parent.self.ctor:c.parent.self.ctor()),e.method.apply(c.self,arguments),c.self._super=d};else if(null!==c.parent&&c.parent.self[d]!==b&&e.callsuper){var f=c.parent.self[d];c.self[d]=function(){var a=c.self._super;c.self._super=f;var b=e.method.apply(c.self,arguments);return c.self._super=a,b}}else c.self[d]=function(){return e.method.apply(c.self,arguments)}}function i(a,b,c){null!==a.parent&&i(a.parent,b.parent,c),d(a.members,function(a,d){"public"===a.access&&(c[d]=b.self[d])})}c.type=function(){var b=function(){if(!(this instanceof b)){b.initializing=!0;var a=new b;return e(b,a,arguments),b.initializing=!1,a}b.initializing||e(b,this,arguments)};return b.initializing=!1,b.members={},b.parent=null,b.extend=function(a){if(Object.keys(b.members).length>0)throw new Error("Cannot change the base type after members have been defined.");return b.parent=a,a.initializing=!0,b.prototype=new a,a.initializing=!1,b},b.def=function(c){return d(c,function(c,e){var f="public",g=!1;if(null!==e.match(/^_/)?(f="private",e=e.substr(1)):null!==e.match(/^\$/)&&(g=!0,e=e.substr(1)),a(b,e))throw new Error('Member "'+e+'" is already defined.');var h=j.test(c),i=[],k=c.toString().match(/^function\s*\(([^())]+)\)/);null!==k&&d(k[1].split(","),function(a){i.push(a.trim())}),b.members[e]={access:f,method:c,callsuper:h,virtual:g,params:i}}),b},b};var j=/xyz/.test(function(){xyz=0})?/\b_super\b/:/.*/,k=!1}()}(window);