/*! Bubbles v0.1.0 */
!function(a,b){function c(a){var b=a.length,c=d.typeOf(a);return"window"===d.typeOf(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}var d=a.bubbles={};d.merge=function(a,c){for(var d,e=0;e<arguments.length;e++)if(0!==e){c=arguments[e];for(d in c)c[d]!==b&&null!==c[d]&&(a[d]=c[d])}return a},d.merge(d,{each:function(a,b){var d,e=0;if(c(a))for(;e<a.length&&(d=b.call(a[e],a[e],e),d!==!1);e++);else for(e in a)if(d=b.call(a[e],a[e],e),d===!1)break},times:function(a,b){for(var c,d=0;a>d&&(c=b(d),c!==!1);d++);},typeOf:function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1].toLowerCase()},isFunc:function(a){return"function"===d.typeOf(a)},ns:function(a,c){if(c===b)throw new Error("Cannot create namespace. Space is undefined.");for(var d=0,e=a.split(".");d<e.length;d++)c[e[d]]=c[e[d]]||{},c=c[e[d]];return c}}),function(){function a(c,d,e){return c.members[d]===b||e&&"private"===c.members[d].access||e&&c.members[d].virtual?null!==c.parent?a(c.parent,d,!0):!1:!0}function c(a,c,d){var g=e(a);return c.$type=a,c.$scope=function(){return j===a?g.self:void 0},g.self._pub=c,f(a,g),h(a,g,c),g.self.ctor!==b&&g.self.ctor.apply(g.self,d),g.self}function e(a){var b=function(){};return a.initializing=!0,b.prototype=new a,a.initializing=!1,b.prototype._new=function(){a.initializing=!0;var b=c(a,new a,arguments);return a.initializing=!1,b},b.prototype._pry=function(b){j=a;var c=b.$scope&&d.isFunc(b.$scope)?b.$scope():null;return j=null,c||null},{self:new b,parent:null}}function f(a,c){if(null!==a.parent){if(a.parent.members.ctor!==b&&a.parent.members.ctor.params.length>0&&(a.members.ctor===b||!a.members.ctor.callsuper))throw new Error("Parent constructor contains parameters and must be called explicitly.");c.parent=e(a.parent),c.parent.self._pub=c.self._pub,f(a.parent,c.parent)}d.each(a.members,function(b,d){g(a,c,d,b)}),null!==a.parent&&d.each(a.parent.members,function(d,e){"private"!==d.access&&a.members[e]===b&&(c.self[e]=c.parent.self[e])})}function g(a,c,d,e){if("ctor"===d)c.self.ctor=function(){delete c.self.ctor;var d=c.self._super;null!==a.parent&&a.parent.members.ctor!==b&&(a.parent.members.ctor.params.length>0?c.self._super=c.parent.self.ctor:c.parent.self.ctor()),e.method.apply(c.self,arguments),c.self._super=d};else if(null!==c.parent&&c.parent.self[d]!==b&&e.callsuper){var f=c.parent.self[d];c.self[d]=function(){var a=c.self._super;c.self._super=f;var b=e.method.apply(c.self,arguments);return c.self._super=a,b}}else c.self[d]=function(){return e.method.apply(c.self,arguments)}}function h(a,b,c){null!==a.parent&&h(a.parent,b.parent,c),d.each(a.members,function(a,d){"public"===a.access&&(c[d]=b.self[d])})}d.type=function(){var e=function(){if(!(this instanceof e)){e.initializing=!0;var a=new e;return c(e,a,arguments),e.initializing=!1,a}e.initializing||c(e,this,arguments)};return e.initializing=!1,e.members={},e.parent=null,e.extend=function(a){if(Object.keys(e.members).length>0)throw new Error("Cannot change the base type after members have been defined.");return e.parent=a,a.initializing=!0,e.prototype=new a,a.initializing=!1,e},e.def=function(c){return d.each(c,function(c,f){if("ctor"===f&&"array"===d.typeOf(c)&&(e.$inject=c,c=c.pop()),!d.isFunc(c))throw new Error('Cannot define member "'+f+'" because it is not a function. Variables should be defined in the constructor.');var g="public",h=!1;if(null!==f.match(/^__/)?(g="private",f=f.substr(2)):null!==f.match(/^_\$/)?(g="protected",h=!0,f=f.substr(2)):null!==f.match(/^_/)?(g="protected",f=f.substr(1)):null!==f.match(/^\$/)&&(h=!0,f=f.substr(1)),"ctor"===f&&(g="private",h=!1),a(e,f))throw new Error('Member "'+f+'" is already defined.');if("private"!==g&&null!==e.parent&&e.parent.members[f]!==b&&e.parent.members[f].access!==g)throw new Error('Cannot change access modifier of member "'+f+'" from '+e.parent.members[f].access+" to "+g+".");var j=i.test(c),k=[],l=c.toString().match(/^function\s*\(([^())]+)\)/);null!==l&&d.each(l[1].split(","),function(a){k.push(a.trim())}),"ctor"===f&&e.$inject===b&&(e.$inject=k),e.members[f]={access:g,method:c,callsuper:j,virtual:h,params:k}}),e},e};var i=/xyz/.test(function(){xyz=0})?/\b_super\b/:/.*/,j=null}(),d.app=d.type().def({ctor:function(){this.container={},this.namespace=null},register:function(a,c){var e,f=this;return 1===arguments.length?e=a:(e={},e[a]=c),d.each(e,function(a,c){if(f.container[c]!==b)throw new Error('The service "'+c+'" has already been bound.');if(!d.isFunc(a))throw new Error('The factory to create the service "'+c+'" must be a function.');f.container[c]={create:a,inject:f.getDependencies(a)}}),f._pub},unregister:function(a){return delete this.container[a],this._pub},resolve:function(a){var c=this,e=null;if(d.isFunc(a))e={create:a,inject:c.getDependencies(a)};else if(c.container[a]===b){if("string"===d.typeOf(a)){var f=a.split("."),g=f.pop(),h=d.ns(f.join("."),c.namespace);h[g]!==b&&d.isFunc(h[g])&&(e={create:h[g],inject:c.getDependencies(h[g])})}if(null===e)throw new Error('Service "'+a+'" not found.')}else e=c.container[a];var i=[];return d.each(e.inject,function(a){i.push(c.resolve(a))}),e.create.apply(e,i)},use:function(a){return this.namespace=a,this._pub},constant:function(a,b){return this.register(a,function(){return b})},require:function(){var a=this;return d.each(arguments,function(b){d.module.get(b).load(a._pub)}),a._pub},__getDependencies:function(a){var c=[];if(a.$inject!==b)c=a.$inject;else{var e=a.toString().match(/^function\s*\(([^())]+)\)/);null!==e&&d.each(e[1].split(","),function(a){c.push(a.trim())})}return c}}),function(){var a={};d.module=function(d){return a[d]===b&&(a[d]=new c(d)),a[d]},d.module.get=function(c){if(a[c]===b)throw new Error('Module "'+c+'" not found.');return a[c]},d.module.destroy=function(){d.each(arguments,function(c){a[c]!==b&&a[c].destroy()})};var c=d.type().def({ctor:function(a){this.name=a,this._run=[]},run:function(a){var b=a;if("array"===d.typeOf(a)&&(b=a.pop(),b.$inject=a),"function"!==d.typeOf(b))throw new Error("No callback specified.");return this._run.push(b),this._pub},load:function(a){return d.each(this._run,function(b){a.resolve(b)}),this._pub},destroy:function(){a[this.name]!==b&&delete a[this.name]}})}()}(window);