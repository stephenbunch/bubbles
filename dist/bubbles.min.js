/*! Bubbles v0.1.0 */
!function(a,b){var c=a.bubbles={},d=c.forEach=function(a,b){for(var c in a)b(a[c],c)},e=c.getType=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1].toLowerCase()},f=function(a){return"function"===e(a)};!function(){function a(c,d,e){return c.members[d]===b||e&&"private"===c.members[d].access||e&&c.members[d].virtual?null!==c.parent?a(c.parent,d,!0):!1:!0}function g(a,c,d){var e=h(a);return c.$type=a,c.$scope=function(){return m===a?e.self:void 0},e.self._pub=c,i(a,e),k(a,e,c),e.self.ctor!==b&&e.self.ctor.apply(e.self,d),e.self}function h(a){var b=function(){};return a.initializing=!0,b.prototype=new a,a.initializing=!1,b.prototype._new=function(){a.initializing=!0;var b=g(a,new a,arguments);return a.initializing=!1,b},b.prototype._pry=function(b){m=a;var c=b.$scope&&"function"===e(b.$scope)?b.$scope():null;return m=null,c||null},{self:new b,parent:null}}function i(a,c){if(null!==a.parent){if(a.parent.members.ctor!==b&&a.parent.members.ctor.params.length>0&&(a.members.ctor===b||!a.members.ctor.callsuper))throw new Error("Parent constructor contains parameters and must be called explicitly.");c.parent=h(a.parent),c.parent.self._pub=c.self._pub,i(a.parent,c.parent)}d(a.members,function(b,d){j(a,c,d,b)}),null!==a.parent&&d(a.parent.members,function(d,e){"private"!==d.access&&a.members[e]===b&&(c.self[e]=c.parent.self[e])})}function j(a,c,d,e){if("ctor"===d)c.self.ctor=function(){delete c.self.ctor;var d=c.self._super;null!==a.parent&&a.parent.members.ctor!==b&&(a.parent.members.ctor.params.length>0?c.self._super=c.parent.self.ctor:c.parent.self.ctor()),e.method.apply(c.self,arguments),c.self._super=d};else if(null!==c.parent&&c.parent.self[d]!==b&&e.callsuper){var f=c.parent.self[d];c.self[d]=function(){var a=c.self._super;c.self._super=f;var b=e.method.apply(c.self,arguments);return c.self._super=a,b}}else c.self[d]=function(){return e.method.apply(c.self,arguments)}}function k(a,b,c){null!==a.parent&&k(a.parent,b.parent,c),d(a.members,function(a,d){"public"===a.access&&(c[d]=b.self[d])})}c.type=function(){var c=function(){if(!(this instanceof c)){c.initializing=!0;var a=new c;return g(c,a,arguments),c.initializing=!1,a}c.initializing||g(c,this,arguments)};return c.initializing=!1,c.members={},c.parent=null,c.extend=function(a){if(Object.keys(c.members).length>0)throw new Error("Cannot change the base type after members have been defined.");return c.parent=a,a.initializing=!0,c.prototype=new a,a.initializing=!1,c},c.def=function(e){return d(e,function(e,g){if(!f(e))throw new Error('Cannot define member "'+g+'" because it is not a function. Variables should be defined in the constructor.');var h="public",i=!1;if(null!==g.match(/^__/)?(h="private",g=g.substr(2)):null!==g.match(/^_\$/)?(h="protected",i=!0,g=g.substr(2)):null!==g.match(/^_/)?(h="protected",g=g.substr(1)):null!==g.match(/^\$/)&&(i=!0,g=g.substr(1)),"ctor"===g&&(h="private",i=!1),a(c,g))throw new Error('Member "'+g+'" is already defined.');if("private"!==h&&null!==c.parent&&c.parent.members[g]!==b&&c.parent.members[g].access!==h)throw new Error('Cannot change access modifier of member "'+g+'" from '+c.parent.members[g].access+" to "+h+".");var j=l.test(e),k=[],m=e.toString().match(/^function\s*\(([^())]+)\)/);null!==m&&d(m[1].split(","),function(a){k.push(a.trim())}),"ctor"===g&&(c.$inject=k),c.members[g]={access:h,method:e,callsuper:j,virtual:i,params:k}}),c},c};var l=/xyz/.test(function(){xyz=0})?/\b_super\b/:/.*/,m=null}(),c.composer=c.type().def({ctor:function(){this.container={}},bind:function(a,c){var e,g=this;return 1===arguments.length?e=a:(e={},e[a]=c),d(e,function(a,c){if(g.container[c]!==b)throw new Error('The service "'+c+'" has already been bound.');if(!f(a))throw new Error('The factory to create the service "'+c+'" must be a function.');g.container[c]={create:a,inject:g.getDependencies(a)}}),g._pub},unbind:function(a){return delete this.container[a],this._pub},get:function(a){var c,e=this;if(f(a))c={create:a,inject:e.getDependencies(a)};else{if(e.container[a]===b)throw new Error('The service "'+a+'" hos not been bound.');c=e.container[a]}var g=[];return d(c.inject,function(a){g.push(e.get(a))}),c.create.apply(c,g)},__getDependencies:function(a){var c=[];if(a.$inject!==b)c=a.$inject;else{var e=a.toString().match(/^function\s*\(([^())]+)\)/);null!==e&&d(e[1].split(","),function(a){c.push(a.trim())})}return c}})}(window);