/*! typejs v0.1.0 */
!function(a,b){"use strict";function c(a,b){if(a===b)throw new Error("Cannot include type that includes self.");m(b.mixins,function(b){c(a,b)})}function d(a){return F|=E,G=!1,a(),F&=~E,G}function e(a){var b=function(){};F&=~(C|D),b.prototype=new a,F|=C|D;var c=b.prototype;return c._new=function(){F&=~C;var b=q(a,new a,arguments);return F|=C,b},c._pry=function(b){B=a;var c=b&&b.$scope&&o(b.$scope)?b.$scope():null;return B=null,c||b},b}function f(a){var b=a.substr(0,2),c=Q[b]||Q[a[0]]||L,d=R[b]||R[a[0]]||!1;return a=a.substr(S[b]||S[a[0]]||0),a===O&&(c=M,d=!1),{access:c,isVirtual:d,name:a}}function g(a,c){if(h(a,c.name))throw new Error("Member '"+c.name+"' is already defined.");if(c.access!==M&&null!==a.parent&&a.parent.members[c.name]!==b&&a.parent.members[c.name].access!==c.access)throw new Error("Cannot change access modifier of member '"+name+"' from "+a.parent.members[name].access+" to "+c.access+".")}function h(a,c,d){return a.members[c]===b||d&&a.members[c].access===M||d&&a.members[c].isVirtual?null!==a.parent?h(a.parent,c,!0):!1:!0}function i(a,b,c){var d=[],e=c.toString().match(/^function\s*\(([^())]+)\)/);null!==e&&m(e[1].split(","),function(a){d.push(a.trim())}),a.members[b].method=c,a.members[b].params=d,a.members[b].callsuper=A.test(c)}function j(a,c,d){"object"!==n(d)&&(d={value:d});var e=0;if(m(d,function(f,g){g=g.toLowerCase();var h=g.substr(0,2);if(R[h]||R[g[0]])throw new Error("Property '"+c.name+"' cannot have virtual accessors.");var i=Q[h]||Q[g[0]]||c.access;if(T[i]<T[c.access])throw new Error("The "+g+" accessor of the property '"+c.name+"' cannot have a lower access modifier than the property itself.");if(g=g.substr(S[h]||S[g[0]]||0),"get"===g||"set"===g){if(i!==c.access&&e++,null!==a.parent&&a.parent.members[c.name]!==b&&a.parent.members[c.name][g]!==b&&a.parent.members[c.name][g].access!==i)throw new Error("Cannot change access modifier of '"+g+"' accessor for property '"+c.name+"' from "+a.parent.members[c.name][g].access+" to "+i+".");if(null!==f&&!o(f))throw new Error(g.substr(0,1).toUpperCase()+g.substr(1)+" accessor for property '"+c.name+"' must be a function or null (uses default implementation.)");d[g]={access:i,method:f}}}),2===e)throw new Error("Cannot set access modifers for both accessors of the property '"+c.name+"'.");d.get===b&&d.set===b&&(d.get={access:c.access},d.set={access:c.access}),d.get===b||o(d.get.method)||(d.get.method=function(){return this._value}),d.set===b||o(d.set.method)||(d.set.method=function(a){this._value=a}),m([d.get,d.set],function(d,e){if(d!==b){var f=0===e?"get":"set";if(null!==a.parent&&a.parent.members[c.name]!==b&&a.parent.members[c.name].access!==M&&a.parent.members[c.name][f]===b)throw new Error("Cannot change read/write definition of property '"+c.name+"'.");a.members[c.name][f]={access:d.access,method:d.method,callsuper:A.test(d.method)}}}),a.members[c.name].value=d.value!==b?d.value:null}function k(a){var b=a.length,c=n(a);return"window"===n(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function l(a){var b=[];return m(a,function(a){b.push(a)}),b}function m(a,b){var c,d=0;if(k(a))for(;d<a.length&&(c=b.call(a[d],a[d],d),c!==!1);d++);else for(d in a)if(c=b.call(a[d],a[d],d),c===!1)break}function n(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1].toLowerCase()}function o(a){return"function"===n(a)}function p(a){return"array"===n(a)}function q(a,c,d){F|=D;var e=a();return F&=~D,e.self._pub=c,r(a,e),w(a,e,c),c.$type=a,c.$scope=function(){return B===a?e.self:void 0},e.self.ctor!==b&&e.self.ctor.apply(e.self,d),e.self}function r(a,c){if(m(a.mixins,function(b){q(b,c.self._pub,[]),B=b;var d=c.self._pub.$scope();B=null,s(b,d,a,c.self)}),null!==a.parent){if(a.parent.members.ctor!==b&&a.parent.members.ctor.params.length>0&&(a.members.ctor===b||!a.members.ctor.callsuper))throw new Error("Parent constructor contains parameters and must be called explicitly.");F|=D,c.parent=a.parent(),F&=~D,c.parent.self._pub=c.self._pub,r(a.parent,c.parent)}null!==a.parent&&s(a.parent,c.parent.self,a,c.self),m(a.members,function(d,e){d.method!==b?t(a,c,e,d):d.isEvent?v(a,c,e):u(a,c,e,d)})}function s(a,c,d,e){m(a.members,function(a,f){a.access!==M&&d.members[f]===b&&(a.method!==b||a.isEvent?e[f]=c[f]:x(e,f,{get:a.get===b||a.get.access===M?y(f):function(){return c[f]},set:a.set===b||a.set.access===M?z(f):function(a){c[f]=a}}))})}function t(a,c,d,e){if("ctor"===d)c.self.ctor=function(){delete c.self.ctor;var d=c.self._super;null!==a.parent&&a.parent.members.ctor!==b&&(a.parent.members.ctor.params.length>0?c.self._super=c.parent.self.ctor:c.parent.self.ctor()),e.method.apply(c.self,arguments),c.self._super=d};else if(null!==c.parent&&c.parent.self[d]!==b&&e.callsuper){var f=c.parent.self[d];c.self[d]=function(){var a=c.self._super;c.self._super=f;var b=e.method.apply(c.self,arguments);return c.self._super=a,b}}else c.self[d]=function(){return e.method.apply(c.self,arguments)}}function u(a,c,d,e){function f(a,b){return function(){var d=c.self._super;c.self._super=b;var e=Object.getOwnPropertyDescriptor(c.self,"_value");x(c.self,"_value",{get:function(){return g},set:function(a){g=a}});var f=a.apply(c.self,arguments);return c.self._super=d,e&&x(c.self,"_value",{get:e.get,set:e.set}),f}}var g=e.value,h={};h.get=e.get!==b?f(e.get.method,e.get.callsuper&&null!==c.parent?function(){return c.parent.self[d]}:null):y(d),h.set=e.set!==b?f(e.set.method,e.set.callsuper&&null!==c.parent?function(a){c.parent.self[d]=a}:null):z(d),x(c.self,d,h)}function v(a,b,c){var d=[];b.self[c]={addHandler:function(a){d.push(a)},removeHandler:function(a){var b=d.indexOf(a);b>-1&&d.splice(b,1)},raise:function(){for(var a=0,c=d.length;c>a;a++)d[a].apply(b.self._pub,arguments)}}}function w(a,c,d){null!==a.parent&&w(a.parent,c.parent,d),m(a.members,function(a,e){a.access===L&&(a.method!==b?d[e]=c.self[e]:a.isEvent?d[e]={addHandler:c.self[e].addHandler,removeHandler:c.self[e].removeHandler}:x(d,e,{get:a.get===b||a.get.access!==L?y(e):function(){return c.self[e]},set:a.set===b||a.set.access!==L?z(e):function(a){c.self[e]=a}}))})}function x(a,b,c){if(c.configurable=!0,H&&a.hasOwnProperty(b)&&delete a[b],Object.defineProperty)Object.defineProperty(a,b,c);else{if(!a.__defineGetter__)throw new Error("JavaScript properties are not supported by this browser.");a.__defineGetter__(b,c.get),a.__defineSetter__(b,c.set)}}function y(a){return function(){throw new TypeError("Cannot read from write only property '"+a+"'.")}}function z(a){return function(){throw new TypeError("Cannot assign to read only property '"+a+"'.")}}var A=/xyz/.test(function(){xyz=0})?/\b_super\b/:/.*/,B=null,C=1,D=2,E=4,F=C,G=!1,H=!1;try{Object.defineProperty({},"x",{})}catch(I){H=!0}var J="provider`",K={},L="public",M="private",N="protected",O="ctor",P="string",Q={__:M,_:N},R={$:!0,_$:!0},S={__:2,_$:2,_:1,$:1},T={};T[L]=1,T[N]=2,T[M]=3;var U=a.type=function(a){if(arguments.length>0&&K[a]!==b)return K[a];var h=null,k=!0,l=function(){if((F&E)===E)return G=!0,void 0;if((F&D)===D)return null===h&&(h=e(l)),{self:new h,parent:null};if(!(this instanceof l)){k=!1;var a=new l;return q(l,a,arguments),k=!0,a}(F&C)===C&&k&&q(l,this,arguments)};return arguments.length>0&&(K[a]=l),H&&(l.prototype=document.createElement("fake")),l.members={},l.parent=null,l.mixins=[],l.extend=function(a){if(Object.keys(l.members).length>0)throw new Error("Cannot change the base type after members have been defined.");if(n(a)===P&&(a=U(a)),!o(a))throw new Error("Base type must be a function.");if(d(a)){for(var b=a;b;){if(b===l)throw new Error("Cannot inherit from "+(a===l?"self":"derived type")+".");b=b.parent}l.parent=a}return F&=~C,l.prototype=new a,F|=C,l},l.def=function(a){return m(a,function(a,b){var c=f(b);if(b=c.name,g(l,c),b===O){if(p(a)&&(l.$inject=a,a=a.pop(),"..."===l.$inject[0])){if(null===l.parent||!l.parent.$inject||0===l.parent.$inject.length)throw new Error("The '...' syntax is invalid when a base type does not exist or has no dependencies.");l.$inject.splice(0,1),l.$inject=l.parent.$inject.concat(l.$inject)}if(!o(a))throw new Error("Constructor must be a function.")}l.members[b]={access:c.access,isVirtual:c.isVirtual},o(a)?i(l,b,a):j(l,c,a)}),l},l.events=function(a){return m(a,function(a){var b=f(a);if(a=b.name,g(l,b),a===O)throw new Error("Event cannot be named 'ctor'.");if(b.isVirtual)throw new Error("Events cannot be virtual.");l.members[a]={access:b.access,isEvent:!0}}),l},l.include=function(a){return m(a,function(a){if(n(a)===P&&(a=U(a)),!d(a))throw new Error("Mixin must be a type.");if(a===l)throw new Error("Cannot include self.");if(a.members.ctor!==b&&a.members.ctor.params.length>0)throw new Error("Mixin cannot have dependencies.");c(l,a);for(var e=a;e;){if(e===l)throw new Error("Cannot inherit from "+(Base===l?"self":"derived type")+".");e=e.parent}l.mixins.push(a)}),l},l};U.providerOf=function(a){return J+a},U.injector=U().def({ctor:function(){this.container={}},register:function(a,c){var d,e=this;return 1===arguments.length?d=a:(d={},d[a]=c),m(d,function(a,c){if(e.container[c]!==b)throw new Error('The service "'+c+'" has already been registered.');if(!o(a))throw new Error('The provider for service "'+c+'" must be a function.');e.container[c]={create:a,inject:e.getDependencies(a)}}),e._pub},unregister:function(a){return delete this.container[a],this._pub},resolve:function(a){var c=this,d=null,e=!1;if(o(a))d={create:a,inject:c.getDependencies(a)};else if(p(a))d={create:a.pop(),inject:a};else if(c.container[a]!==b)d=c.container[a];else if("string"===n(a)&&null===d&&a!==J&&null!==a.match(new RegExp("^"+J))&&(e=!0,c.container[a.substr(J.length)]!==b&&(d=c.container[a.substr(J.length)])),null===d)throw new Error('Service "'+a+'" not found.');var f=[];m(d.inject,function(a){f.push(c.resolve(a))});var g=l(arguments);g.shift(0);var h=function(){return d.create.apply(d,f.concat(l(arguments)))};return e?h:h.apply(this,g)},constant:function(a,b){var c=this;return 1===arguments.length?(m(a,function(a,b){c.register(b,function(){return a})}),c._pub):c.register(a,function(){return b})},autoRegister:function(){var a=this;return m(K,function(b,c){a.register(c,b)}),a._pub},__getDependencies:function(a){var c=[];return a.$inject!==b&&(c=a.$inject),c}}),U.destroy=function(a){delete K[a]}}(window);