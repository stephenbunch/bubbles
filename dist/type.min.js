/*! typejs v0.1.0 */
!function(a,b){"use strict";function c(a){var b=a.length,c=f(a);return"window"===f(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a){var b=[];return e(a,function(a){b.push(a)}),b}function e(a,b){var d=0;if(c(a))for(;d<a.length&&b.call(a[d],a[d],d)!==!1;d++);else for(d in a)if(j(a,d)&&b.call(a[d],a[d],d)===!1)break}function f(a){return Z[a]||Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1].toLowerCase()}function g(a){return"function"===f(a)}function h(a){return"array"===f(a)}function i(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function j(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function k(a,b){if(a.indexOf)return a.indexOf(b);var c=-1;return e(a,function(a,d){return a===b?(c=d,!1):void 0}),c}function l(a){if("object"!==f(a)||a.nodeType||"window"===f(a))return!1;try{if(a.constructor&&!j(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0}function m(a,b){if(a===b)throw new ab("Cannot include type that includes self.");e(b.mixins,function(b){m(a,b)})}function n(a){return M|=L,N=!1,a(),M&=~L,N}function o(a){var b=function(){};M&=~(J|K),b.prototype=new a,M|=J|K;var c=b.prototype;return c._pry=function(b){I=a;var c=b&&b.$scope&&g(b.$scope)?b.$scope():null;return I=null,c||b},b}function p(a){var b=a.substr(0,2),c=V[b]||V[a[0]]||R,d=W[b]||W[a[0]]||!1;return a=a.substr(X[b]||X[a[0]]||0),a===U&&(c=S,d=!1),{access:c,isVirtual:d,name:a}}function q(a,c){if(r(a,c.name))throw new ab("Member '"+c.name+"' is already defined.");if(c.access!==S&&null!==a.parent&&a.parent.members[c.name]!==b&&a.parent.members[c.name].access!==c.access)throw new ab("Cannot change access modifier of member '"+name+"' from "+a.parent.members[c.name].access+" to "+c.access+".")}function r(a,c,d){return a.members[c]===b||d&&a.members[c].access===S||d&&a.members[c].isVirtual?null!==a.parent?r(a.parent,c,!0):!1:!0}function s(a,b,c){var d=[],f=c.toString().match(/^function\s*\(([^())]+)\)/);null!==f&&e(f[1].split(","),function(a){d.push(i(a))}),a.members[b].method=c,a.members[b].params=d,a.members[b].callsuper=H.test(c)}function t(a,c,d){"object"!==f(d)&&(d={value:d});var h=0,i={};if(e(d,function(d,e){e=e.toLowerCase();var f=e.substr(0,2);if(W[f]||W[e[0]])throw new ab("Property '"+c.name+"' cannot have virtual accessors.");var j=V[f]||V[e[0]]||c.access;if(Y[j]<Y[c.access])throw new ab("The "+e+" accessor of the property '"+c.name+"' cannot have a lower access modifier than the property itself.");if(e=e.substr(X[f]||X[e[0]]||0),"get"===e||"set"===e){if(j!==c.access&&h++,null!==a.parent&&a.parent.members[c.name]!==b&&a.parent.members[c.name][e]!==b&&a.parent.members[c.name][e].access!==j)throw new ab("Cannot change access modifier of '"+e+"' accessor for property '"+c.name+"' from "+a.parent.members[c.name][e].access+" to "+j+".");if(null!==d&&!g(d))throw new TypeError(e.substr(0,1).toUpperCase()+e.substr(1)+" accessor for property '"+c.name+"' must be a function or null (uses default implementation.)");i[e]={access:j,method:d}}}),d.get=i.get,d.set=i.set,2===h)throw new ab("Cannot set access modifers for both accessors of the property '"+c.name+"'.");d.get===b&&d.set===b&&(d.get={access:c.access},d.set={access:c.access}),d.get===b||g(d.get.method)||(d.get.method=function(){return this._value()}),d.set===b||g(d.set.method)||(d.set.method=function(a){this._value(a)}),e([d.get,d.set],function(d,e){if(d!==b){var f=0===e?"get":"set";if(null!==a.parent&&a.parent.members[c.name]!==b&&a.parent.members[c.name].access!==S&&a.parent.members[c.name][f]===b)throw new ab("Cannot change read/write definition of property '"+c.name+"'.");a.members[c.name][f]={access:d.access,method:d.method,callsuper:H.test(d.method)}}}),a.members[c.name].value=d.value!==b?d.value:null}function u(a){var c=[];return null!==a.parent&&a.parent.$inject!==b&&(c=c.concat(a.parent.$inject)),e(a.mixins,function(a){a.$inject&&(c=c.concat(a.$inject))}),c}function v(a,b,c,d){M|=K;var e=a();return M&=~K,e.self._pub=b,w(a,e),B(a,e,b),b.$type=a,b.$scope=function(){return I===a?e.self:void 0},d&&e.self.ctor.apply(e.self,c),e.self}function w(a,c){if(e(a.mixins,function(b){v(b,c.self._pub,[],!1),I=b;var d=c.self._pub.$scope();I=null,x(b,d,a,c.self),c.mixins.push(d)}),null!==a.parent){if(a.parent.members.ctor!==b&&a.parent.members.ctor.params.length>0&&(a.members.ctor===b||!a.members.ctor.callsuper))throw new bb("Base constructor contains parameters and must be called explicitly.");M|=K,c.parent=a.parent(),M&=~K,c.parent.self._pub=c.self._pub,w(a.parent,c.parent)}null!==a.parent&&x(a.parent,c.parent.self,a,c.self),e(a.members,function(d,e){d.method!==b?y(a,c,e,d):d.isEvent?A(a,c,e):z(a,c,e,d)}),c.self.ctor===b&&y(a,c,"ctor",{callsuper:!1,params:[],access:S,isVirtual:!1,name:"ctor",method:function(){}})}function x(a,c,d,f){e(a.members,function(a,e){a.access!==S&&d.members[e]===b&&(a.method!==b||a.isEvent?f[e]=c[e]:C(f,e,{get:a.get===b||a.get.access===S?D(e):function(){return c[e]},set:a.set===b||a.set.access===S?E(e):function(a){c[e]=a}}))})}function y(a,c,f,g){if("ctor"===f)c.self.ctor=function(){delete c.self.ctor;var f=[],h={_init:c.self._init,_super:c.self._super};if(e(a.mixins,function(a,d){a.members.ctor!==b&&(a.members.ctor.params.length>0?f.push(a):a.members.ctor.method.call(c.mixins[d]))}),f.length>0&&(c.self._init=function(b){var e=k(f,b);if(-1===e)throw new bb("Mixin is not defined for this type or has already been initialized.");var g=d(arguments);g.shift(),b.members.ctor.method.apply(c.mixins[k(a.mixins,b)],g),f.splice(e,1)}),null!==a.parent&&a.parent.members.ctor!==b&&(a.parent.members.ctor.params.length>0?c.self._super=c.parent.self.ctor:c.parent.self.ctor()),g.method.apply(c.self,arguments),c.self._super=h._super,c.self._init=h._init,f.length>0)throw new bb("Some mixins were not initialized. Please make sure the constructor calls this._init() for each mixin having parameters in its constructor.")};else if(null!==c.parent&&c.parent.self[f]!==b&&g.callsuper){var h=c.parent.self[f];c.self[f]=function(){var a=c.self._super;c.self._super=h;var b=g.method.apply(c.self,arguments);return c.self._super=a,b}}else c.self[f]=function(){return g.method.apply(c.self,arguments)}}function z(a,c,d,e){function f(a,b){return function(){var d={_super:c.self._super,_value:c.self._value};c.self._super=b,c.self._value=function(a){return arguments.length&&(g=a),g};var e=a.apply(c.self,arguments);return c.self._super=d._super,c.self._value=d._value,e}}var g=e.value,h={};h.get=e.get!==b?f(e.get.method,e.get.callsuper&&null!==c.parent?function(){return c.parent.self[d]}:null):D(d),h.set=e.set!==b?f(e.set.method,e.set.callsuper&&null!==c.parent?function(a){c.parent.self[d]=a}:null):E(d),C(c.self,d,h)}function A(a,b,c){var d=[];b.self[c]={addHandler:function(a){d.push(a)},removeHandler:function(a){var b=k(d,a);b>-1&&d.splice(b,1)},raise:function(){for(var a=0,c=d.length;c>a;a++)d[a].apply(b.self._pub,arguments)}}}function B(a,c,d){null!==a.parent&&B(a.parent,c.parent,d),e(a.members,function(a,e){a.access===R&&(a.method!==b?d[e]=c.self[e]:a.isEvent?d[e]={addHandler:c.self[e].addHandler,removeHandler:c.self[e].removeHandler}:C(d,e,{get:a.get===b||a.get.access!==R?D(e):function(){return c.self[e]},set:a.set===b||a.set.access!==R?E(e):function(a){c.self[e]=a}}))})}function C(a,b,c){if(O||(c.enumerable=!0),c.configurable=!0,O&&j(a,b)&&delete a[b],!Object.defineProperty)throw new bb("JavaScript properties are not supported by this browser.");Object.defineProperty(a,b,c)}function D(a){return function(){throw new cb("Cannot read from write only property '"+a+"'.")}}function E(a){return function(){throw new cb("Cannot assign to read only property '"+a+"'.")}}function F(a,b){var c=a.prototype;c.constructor.prototype!==c&&F(c.constructor,b);for(var d in c)j(c,d)&&(b[d]=c[d])}function G(){function a(a,b){var c;Object.defineProperty(a,b,{configurable:!0,get:function(){return c},set:function(a){c=a}})}var b,c=document.createElement();for(b in c)j(c,b)&&a(c,b);return c}var H=/xyz/.test(function(){xyz=0})?/\b_super\b/:/.*/,I=null,J=1,K=2,L=4,M=J,N=!1,O=!1;try{Object.defineProperty({},"x",{})}catch(P){O=!0}var Q="provider`",R="public",S="private",T="protected",U="ctor",V={__:S,_:T},W={$:!0,_$:!0},X={__:2,_$:2,_:1,$:1},Y={};Y[R]=1,Y[T]=2,Y[S]=3;var Z={};Z[null]="null",Z[b]="undefined";var $=Object.keys||function(a){var b=[];for(var c in a)j(a,c)&&b.push(c);return b},_=a.type=function(){var a=null,c=!0,d=!1,f=function(){if((M&L)===L)return N=!0,void 0;if((M&K)===K){null===a&&(a=o(f));var b={parent:null,self:null,mixins:[]};return O?(b.self=G(),F(a,b.self)):b.self=new a,b}if((M&J)===J&&c){var d;return c=!1,O?(d=G(),F(f,d)):d=new f,v(f,d,arguments,!0),c=!0,d}};return f.members={},f.parent=null,f.mixins=[],f.extend=function(a){if($(f.members).length>0)throw new ab("Cannot change the base type after members have been defined.");if(!g(a))throw new TypeError("Base type must be a function.");if(n(a)){for(var b=a;b;){if(b===f)throw new ab("Cannot inherit from "+(a===f?"self":"derived type")+".");b=b.parent}f.parent=a}return M&=~J,f.prototype=new a,M|=J,f},f.def=function(a){return e(a,function(a,c){var e=p(c);if(c=e.name,q(f,e),c===U){if(h(a)&&(f.$inject=a,a=a.pop(),"..."===f.$inject[0])){var i=u(f);if(0===i.length)throw new ab("The '...' syntax is invalid when a base type does not exist or has no dependencies.");f.$inject.splice(0,1),f.$inject=i.concat(f.$inject)}if(!g(a))throw new TypeError("Constructor must be a function.")}if(f.members[c]={access:e.access,isVirtual:e.isVirtual},g(a)?s(f,c,a):t(f,e,a),c===U){if(!f.members.ctor.callsuper&&null!==f.parent&&f.parent.members.ctor!==b&&f.parent.members.ctor.params.length>0)throw new ab("Constructor must call the base constructor explicitly because it contains parameters.");d=!0}}),f},f.events=function(a){return e(a,function(a){var b=p(a);if(a=b.name,q(f,b),a===U)throw new ab("Event cannot be named 'ctor'.");if(b.isVirtual)throw new ab("Events cannot be virtual.");f.members[a]={access:b.access,isEvent:!0}}),f},f.include=function(a){if(d)throw new ab("Mixins must be defined before the constructor.");return e(a,function(a){if(!n(a))throw new TypeError("Mixin must be a type.");if(a===f)throw new ab("Cannot include self.");m(f,a),f.mixins.push(a)}),f},f},ab=_.DefinitionError=function(a){this.message=a};ab.prototype=new Error,ab.prototype.name="type.DefinitionError";var bb=_.InitializationError=function(a){this.message=a};bb.prototype=new Error,bb.prototype.name="type.InitializationError";var cb=_.AccessViolationError=function(a){this.message=a};cb.prototype=new Error,cb.prototype.name="type.AccessViolationError",_.providerOf=function(a){return Q+a},_.injector=_().def({ctor:function(){this.container={}},register:function(a,c){var d,f=this;return 1===arguments.length?d=a:(d={},d[a]=c),e(d,function(a,c){if(f.container[c]!==b)throw new Error('The service "'+c+'" has already been registered.');if(!g(a))throw new TypeError('The provider for service "'+c+'" must be a function.');f.container[c]={create:a,inject:f.getDependencies(a)}}),f._pub},unregister:function(a){return delete this.container[a],this._pub},resolve:function(a){var c=this,i=null,j=!1;if(g(a))i={create:a,inject:c.getDependencies(a)};else if(h(a))i={create:a.pop(),inject:a};else if(c.container[a]!==b)i=c.container[a];else if("string"===f(a)&&null===i&&a!==Q&&null!==a.match(new RegExp("^"+Q))&&(j=!0,c.container[a.substr(Q.length)]!==b&&(i=c.container[a.substr(Q.length)])),null===i)throw new Error('Service "'+a+'" not found.');var k=function(){var a=[];return e(i.inject,function(b){a.push(c.resolve(b))}),i.create.apply(i,a.concat(d(arguments)))};if(j)return k;var l=d(arguments);return l.shift(0),k.apply(this,l)},constant:function(a,b){var c=this;return 1===arguments.length?(e(a,function(a,b){c.register(b,function(){return a})}),c._pub):c.register(a,function(){return b})},autoRegister:function(a){return this.registerGraph("",a),this._pub},__getDependencies:function(a){var c=[];return a.$inject!==b&&(c=a.$inject),c},__registerGraph:function(a,b){var c=this,d=""===a?"":a+".";e(b,function(a,b){g(a)?c.register(d+b,a):l(a)?c.registerGraph(d+b,a):c.register(d+b,function(){return a})})}})}(window);