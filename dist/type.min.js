/*! typejs v0.1.0 */
!function(a,b){"use strict";function c(a,d,e){return a.members[d]===b||e&&"private"===a.members[d].access||e&&a.members[d].virtual?null!==a.parent?c(a.parent,d,!0):!1:!0}function d(a){var b=a.length,c=g(a);return"window"===g(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function e(a){var b=[];return f(a,function(a){b.push(a)}),b}function f(a,b){var c,e=0;if(d(a))for(;e<a.length&&(c=b.call(a[e],a[e],e),c!==!1);e++);else for(e in a)if(c=b.call(a[e],a[e],e),c===!1)break}function g(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1].toLowerCase()}function h(a){return"function"===g(a)}function i(a){return"array"===g(a)}function j(a){var c=function(){};u&=~s,c.prototype=new a,u|=s;var d=c.prototype;d._new=function(){u&=~s;var b=k(a,new a,arguments);return u|=s,b},d._pry=function(b){r=a;var c=b.$scope&&h(b.$scope)?b.$scope():null;return r=null,c||null};var e={};return d._publish=function(a,b){if(e[a]){var c=0,d=e[a].length;for(b=b||[];d>c;c++)e[a][c].apply(this,b)}},d._subscribe=function(a,b){e[a]||(e[a]=[]),e[a].push(b)},d._unsubscribe=function(a,c){var d=0;e[a]&&(c?(d=e[a].indexOf(c),d>-1&&e[a].splice(d,1)):e[a]=b)},c}function k(a,c,d){u|=t;var e=a();return u&=~t,c.$type=a,c.$scope=function(){return r===a?e.self:void 0},e.self._pub=c,l(a,e),o(a,e,c),e.self.ctor!==b&&e.self.ctor.apply(e.self,d),e.self}function l(a,c){if(null!==a.parent){if(a.parent.members.ctor!==b&&a.parent.members.ctor.params.length>0&&(a.members.ctor===b||!a.members.ctor.callsuper))throw new Error("Parent constructor contains parameters and must be called explicitly.");u|=t,c.parent=a.parent(),u&=~t,c.parent.self._pub=c.self._pub,l(a.parent,c.parent)}f(a.members,function(d,e){d.method!==b?m(a,c,e,d):n(a,c,e,d)}),null!==a.parent&&f(a.parent.members,function(d,e){"private"!==d.access&&a.members[e]===b&&(c.self[e]=c.parent.self[e])})}function m(a,c,d,e){if("ctor"===d)c.self.ctor=function(){delete c.self.ctor;var d=c.self._super;null!==a.parent&&a.parent.members.ctor!==b&&(a.parent.members.ctor.params.length>0?c.self._super=c.parent.self.ctor:c.parent.self.ctor()),e.method.apply(c.self,arguments),c.self._super=d};else if(null!==c.parent&&c.parent.self[d]!==b&&e.callsuper){var f=c.parent.self[d];c.self[d]=function(){var a=c.self._super;c.self._super=f;var b=e.method.apply(c.self,arguments);return c.self._super=a,b}}else c.self[d]=function(){return e.method.apply(c.self,arguments)}}function n(a,c,d,e){function f(a,b){return function(){var e=c.self._super,f=c.self._value;c.self._super=b,p(c.self,"_value",{get:function(){return g},set:function(a){var b=a!==g;b&&c.self._publish("/"+d+"/beforechange"),g=a,b&&c.self._publish("/"+d+"/afterchange")}});var h=a.apply(c.self,arguments);return c.self._super=e,delete c.self._value,c.self._value=f,h}}var g=e.value,h={};e.get!==b&&(h.get=f(e.get.method,e.get.callsuper&&null!==c.parent?function(){return c.parent.self[d]}:null)),e.set!==b&&(h.set=f(e.set.method,e.set.callsuper&&null!==c.parent?function(a){c.parent.self[d]=a}:null)),p(c.self,d,h)}function o(a,c,d){null!==a.parent&&o(a.parent,c.parent,d),f(a.members,function(a,e){if("public"===a.access)if(a.method!==b)d[e]=c.self[e];else{var f={};a.get!==b&&(f.get=function(){return c.self[e]}),a.set!==b&&(f.set=function(a){c.self[e]=a}),p(d,e,f)}})}function p(a,b,c){if(c.configurable=!0,Object.defineProperty)Object.defineProperty(a,b,c);else{if(!a.__defineGetter__)throw new Error("JavaScript properties are not supported by this browser.");a.__defineGetter__(b,c.get),a.__defineSetter__(b,c.set)}}var q=/xyz/.test(function(){xyz=0})?/\b_super\b/:/.*/,r=null,s=1,t=2,u=s,v=!1;try{Object.defineProperty({},"x",{})}catch(w){v=!0}var x="provider`",y={},z=a.type=function(a){if(arguments.length>0&&y[a]!==b)return y[a];var d=null,e=!0,i=function(){if((u&t)===t)return null===d&&(u&=~t,d=j(i),u|=t),{self:new d,parent:null};if(!(this instanceof i)){e=!1;var a=new i;return k(i,a,arguments),e=!0,a}u===s&&e&&k(i,this,arguments)};return arguments.length>0&&(y[a]=i),v&&(i.prototype=document.createElement("fake")),i.members={},i.parent=null,i.extend=function(a){if(Object.keys(i.members).length>0)throw new Error("Cannot change the base type after members have been defined.");return i.parent=a,u&=~s,i.prototype=new a,u|=s,i},i.def=function(a){return f(a,function(a,d){if("ctor"===d&&("array"===g(a)&&(i.$inject=a,a=a.pop()),!h(a)))throw new Error("Constructor must be a function.");var e="public",j=!1;if(null!==d.match(/^__/)?(e="private",d=d.substr(2)):null!==d.match(/^_\$/)?(e="protected",j=!0,d=d.substr(2)):null!==d.match(/^_/)?(e="protected",d=d.substr(1)):null!==d.match(/^\$/)&&(j=!0,d=d.substr(1)),"ctor"===d&&(e="private",j=!1),c(i,d))throw new Error('Member "'+d+'" is already defined.');if("private"!==e&&null!==i.parent&&i.parent.members[d]!==b&&i.parent.members[d].access!==e)throw new Error('Cannot change access modifier of member "'+d+'" from '+i.parent.members[d].access+" to "+e+".");if(i.members[d]={access:e,virtual:j},h(a)){var k=[],l=a.toString().match(/^function\s*\(([^())]+)\)/);null!==l&&f(l[1].split(","),function(a){k.push(a.trim())}),i.members[d].method=a,i.members[d].params=k,i.members[d].callsuper=q.test(a)}else(null===a||!h(a.get)&&!h(a.set))&&(a={get:function(){return this._value},set:function(a){this._value=a},value:a}),f([a.get,a.set],function(a,c){var e=0===c?"get":"set";if(a!==b){if(null!==i.parent&&i.parent.members[d]!==b&&"private"!==i.parent.members[d].access&&i.parent.members[d][e]===b)throw new Error('Cannot change read/write definition of property "'+d+'".');if(!h(a))throw new Error((0===c?"Get":"Set")+' accessor for property "'+d+'" must be a function.');i.members[d][e]={method:a,callsuper:q.test(a)}}}),i.members[d].value=a.value!==b?a.value:null}),i},i};z.providerOf=function(a){return x+a},z.injector=z().def({ctor:function(){this.container={}},register:function(a,c){var d,e=this;return 1===arguments.length?d=a:(d={},d[a]=c),f(d,function(a,c){if(e.container[c]!==b)throw new Error('The service "'+c+'" has already been registered.');if(!h(a))throw new Error('The provider for service "'+c+'" must be a function.');e.container[c]={create:a,inject:e.getDependencies(a)}}),e._pub},unregister:function(a){return delete this.container[a],this._pub},resolve:function(a){var c=this,d=null,j=!1;if(h(a))d={create:a,inject:c.getDependencies(a)};else if(i(a))d={create:a.pop(),inject:a};else if(c.container[a]!==b)d=c.container[a];else if("string"===g(a)&&null===d&&a!==x&&null!==a.match(new RegExp("^"+x))&&(j=!0,c.container[a.substr(x.length)]!==b&&(d=c.container[a.substr(x.length)])),null===d)throw new Error('Service "'+a+'" not found.');var k=[];f(d.inject,function(a){k.push(c.resolve(a))});var l=e(arguments);l.shift(0);var m=function(){return d.create.apply(d,k.concat(e(arguments)))};return j?m:m.apply(this,l)},constant:function(a,b){var c=this;return 1===arguments.length?(f(a,function(a,b){c.register(b,function(){return a})}),c._pub):c.register(a,function(){return b})},autoRegister:function(){var a=this;return f(y,function(b,c){a.register(c,b)}),a._pub},__getDependencies:function(a){var c=[];return a.$inject!==b&&(c=a.$inject),c}}),z.destroy=function(a){delete y[a]}}(window);